{% extends 'base.html' %}
{% load cart %}
{% load custom_filter %}
{% block content %}
<div class="min-w-screen min-h-screen bg-yellow-300 flex items-center p-5 lg:p-10 overflow-hidden relative">
  <div class="w-full max-w-6xl rounded bg-white shadow-xl p-10 lg:p-20 mx-auto text-gray-800 relative md:text-left">
      <div class="md:flex items-center -mx-10">
          <div class="w-full md:w-1/2 px-10 mb-10 md:mb-0">
              <div class="relative rounded-md">
                <div class="border-4 border-yellow-200 absolute top-10 bottom-10 left-10 right-10 z-10"></div>
                  <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full relative rounded-md " >
                
              </div>
          </div>
          <div class="w-full md:w-1/2 px-10 ">
              <div class="mb-10">
                <span class="pb-2">Category: {{ product.category.name }}</span>
                  <h1 class="font-bold uppercase text-2xl mb-5">{{ product.name }}</h1>
                  <p class="text-sm">{{ product.description }}</p>
              </div>
              <div>
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4 ">
                  <div class="inline-block align-bottom mr-5">
                      <span class="text-2xl leading-none align-baseline">$</span>
                      <span class="font-bold text-5xl leading-none align-baseline">{{ product.price }}</span>
                  
                  </div>
                
     <!-- Cart Functionality -->
     <div class="card-footer p-0 grid grid-cols-12  w-full md:w-2/3 ">
      {% if product|is_in_cart:request.session.cart %}
      <div class="col-span-12 flex items-center space-x-2">
          <form action="{{ request.path }}?id={{product.id}}" method="post" class="flex items-center ">
              {% csrf_token %}
              <input hidden type="text" name='product' value='{{product.id}}'>
              <input hidden type="text" name='remove' value='True'>
              <button type="submit" class="bg-gray-700 text-white py-2 px-5  hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700 rounded-lg transform transition-all hover:scale-105">
                  -
              </button>
          </form>
          <div class="flex-1 px-10 flex py-2 justify-center items-center bg-gray-700 text-white rounded-lg">
              {{product|cart_quantity:request.session.cart}} in Cart
          </div>
          <form action="{{ request.path }}?id={{product.id}}" method="post" class="flex items-center ">
              {% csrf_token %}
              <input hidden type="text" name='product' value='{{product.id}}'>
              <button type="submit" class="bg-gray-700 text-white py-2 px-5  hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700 rounded-lg transform transition-all hover:scale-105">
                  +
              </button>
          </form>
      </div>
      
      {% else %}
      <div class="col-span-12 hover:scale-105">
          <form action="{{ request.path }}?id={{product.id}}" method="POST">
              {% csrf_token %}
              <input hidden type="text" name='product' value='{{product.id}}'>
              <button type="submit" class="bg-gray-700 text-white py-2 px-3 w-full hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700 rounded-md">
                  Add To Cart
              </button>
          </form>
      </div>
      {% endif %}
  
                  </div>
                </div>
              </div>
          </div>
      </div>
  </div>
</div>




{% endblock %}



